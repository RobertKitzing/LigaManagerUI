<div class="container"
     fxLayout
     fxLayoutGap="10px"
     fxLayoutAlign="center"
     fxLayout.xs="column">
  <app-loader [isLoading]="seasonService.isLoadingSeasons" size="1.5"></app-loader>
  <div *ngIf="!seasonService.isLoadingSeasons">
    <mat-form-field id="seasonchooser">
      <mat-select [compareWith]="seasonCompare" [(value)]="season"  placeholder="{{ 'SEASON_PLACEHOLDER' | translate}}" (selectionChange)="selectedSeasonChanged(season)">
        <mat-option *ngFor="let season of seasons" [value]="season">
          {{ season.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <mat-divider [vertical]="true"></mat-divider>
  <div>
    <mat-form-field *ngIf="!seasonService.isLoadingTeams">
      <mat-select placeholder="{{ 'MATCHDAY_PLACEHOLDER' | translate}}" (selectionChange)="selectedMatchDayChanged()" [(ngModel)]="matchDay">
        <mat-option *ngFor="let day of matchDayCounter" [value]="day">
          {{ day }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>
<div class="container-fluid">
  <app-loader [isLoading]="isLoadingMatches && seasonService.isLoadingTeams" size="1.5"></app-loader>
  <div class="container-fluid" *ngIf="matches && !seasonService.isLoadingTeams">
    <div class="row mat-elevation-z5" *ngFor="let match of matches" style="margin-bottom: 10px;">
      <div class="teamname col-3">
          {{ seasonService.getTeamNameByID(match.home_team_id)}}
      </div>
      <div class="col-1">
        -
      </div>
      <div class="teamname col-3">
          {{ seasonService.getTeamNameByID(match.guest_team_id) }}
      </div>
      <div class="col-1">
          <!-- <mat-form-field *ngIf="true">
              <input matInput type="number" placeholder="{{'HOME_SCORE_PLACEHOLDER' | translate}}" [(ngModel)]="match.home_score" #home_score />
          </mat-form-field> -->
          <p *ngIf="true">
            {{ match.home_score }}
          </p>
      </div>
      <div class="col-1">
          :
      </div>
      <div class="col-1">
          <!-- <mat-form-field *ngIf="true">
              <input matInput type="number" placeholder="{{'GUEST_SCORE_PLACEHOLDER' | translate}}" [(ngModel)]="match.guest_score" #guest_score />
            </mat-form-field> -->
          <p *ngIf="false">
            {{ match.guest_score }}
          </p>
      </div>
      <div class="col-1">
          <i *ngIf="true" class="fa fa-edit"></i>
          <!-- <button *ngIf="false" mat-raised-button color="primary" (click)="saveResult(match.id, home_score.value, guest_score.value)">Speichern</button> -->
      </div>
    </div>
    <!-- <mat-accordion>
      <mat-expansion-panel *ngFor="let match of matches">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ seasonService.getTeamNameByID(match.home_team_id)}} - {{ seasonService.getTeamNameByID(match.guest_team_id) }}
          </mat-panel-title>
          <mat-panel-description style="white-space: nowrap">
            {{ match.home_score }} : {{ match.guest_score }}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div fxLayout
             fxLayoutGap="10px"
             fxLayoutAlign="center"
             fxLayout.xs="column">
          <div>
            <mat-form-field>
              <input matInput type="number" placeholder="{{'HOME_SCORE_PLACEHOLDER' | translate}}" [(ngModel)]="match.home_score" #home_score />
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <input matInput type="number" placeholder="{{'GUEST_SCORE_PLACEHOLDER' | translate}}" [(ngModel)]="match.guest_score" #guest_score />
            </mat-form-field>
          </div>
          <div>
            <button mat-raised-button color="primary" (click)="saveResult(match.id, home_score.value, guest_score.value)">Speichern</button>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion> -->
  </div>
</div>